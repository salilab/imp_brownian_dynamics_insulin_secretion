# Autogenerated by tools/build/setup_cmake.py
# from tools/build/cmake_templates/ModuleLib.cmake
# Do not edit - any changes will be lost!

FILE(GLOB gensources
     "${CMAKE_BINARY_DIR}/src/insulinsecretion/*.cpp")

FILE(GLOB genheaders
     "${CMAKE_BINARY_DIR}/include/IMP/insulinsecretion/*.h")

include_directories(SYSTEM ${ANN_INCLUDE_PATH}
        ${BOOST.FILESYSTEM_INCLUDE_PATH}
        ${BOOST.PROGRAMOPTIONS_INCLUDE_PATH}
        ${BOOST.RANDOM_INCLUDE_PATH}
        ${BOOST.SYSTEM_INCLUDE_PATH}
        ${CGAL_INCLUDE_PATH}
        ${GPERFTOOLS_INCLUDE_PATH}
        ${HDF5_INCLUDE_PATH}
        ${PYTHON-IHM_INCLUDE_PATH})
link_directories(${ANN_LINK_PATH}
        ${BOOST.FILESYSTEM_LINK_PATH}
        ${BOOST.PROGRAMOPTIONS_LINK_PATH}
        ${BOOST.RANDOM_LINK_PATH}
        ${BOOST.SYSTEM_LINK_PATH}
        ${CGAL_LINK_PATH}
        ${GPERFTOOLS_LINK_PATH}
        ${HDF5_LINK_PATH}
        ${NUMPY_LINK_PATH}
        ${PYTHON-IHM_LINK_PATH})
add_definitions("-DIMPINSULINSECRETION_EXPORTS")

include(Files.cmake)

if(NOT "${OpenMP_CXX_FLAGS}" MATCHES ".*NOTFOUND.*")
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${OpenMP_CXX_FLAGS}")
endif()

set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${INSULINSECRETION_CXX_FLAGS}")

set(headers ${CMAKE_SOURCE_DIR}/include/CaChannelOpeningOptimizerState.h
${CMAKE_SOURCE_DIR}/include/CaChannelStateDecorator.h
${CMAKE_SOURCE_DIR}/include/DockingStateDecorator.h
${CMAKE_SOURCE_DIR}/include/InsulinSecretionOptimizerState.h
${CMAKE_SOURCE_DIR}/include/MaturationStateDecorator.h
${CMAKE_SOURCE_DIR}/include/RadialDistributionFunctionSingletonScore.h
${CMAKE_SOURCE_DIR}/include/SecretionCounterDecorator.h
${CMAKE_SOURCE_DIR}/include/VesicleDockingOptimizerState.h
${CMAKE_SOURCE_DIR}/include/VesicleTraffickingSingletonScore.h)

if(DEFINED IMP_insulinsecretion_LIBRARY_EXTRA_SOURCES)
  set_source_files_properties(${IMP_insulinsecretion_LIBRARY_EXTRA_SOURCES}
                              PROPERTIES GENERATED 1)
endif()
set_source_files_properties(${CMAKE_BINARY_DIR}/src/insulinsecretion_config.cpp
  PROPERTIES GENERATED 1)

if((DEFINED IMP_insulinsecretion_IS_CUDA OR DEFINED IMP_IS_CUDA)
   AND NOT "${cudafiles}" STREQUAL "")
  #  FILE(GLOB IMP_insulinsecretion_CUDA_SOURCES "${CMAKE_SOURCE_DIR}/modules/insulinsecretion/src/*.cu")
  message(STATUS "Setting up cuda: " "${cudafiles}")
  set(sources ${cppfiles} ${cudafiles} )
  CUDA_ADD_LIBRARY(IMP.insulinsecretion-lib ${gensources} ${genheaders}
    ${headers} ${sources} ${cudasources}
    ${CMAKE_BINARY_DIR}/src/insulinsecretion_config.cpp
    ${IMP_insulinsecretion_LIBRARY_EXTRA_SOURCES}
    ${IMP_LIB_TYPE}
    )
  target_link_libraries(IMP.insulinsecretion-lib ${CUDA_LIBRARIES} ${CUDA_curand_LIBRARY} ${CUDA_cufft_LIBRARY})
elseif(DEFINED IMP_IS_PER_CPP OR DEFINED IMP_insulinsecretion_IS_PER_CPP)
  set(sources ${cppfiles})
  add_library(IMP.insulinsecretion-lib  ${IMP_LIB_TYPE} ${gensources} ${genheaders}
              ${headers} ${sources}
              ${CMAKE_BINARY_DIR}/src/insulinsecretion_config.cpp
              ${IMP_insulinsecretion_LIBRARY_EXTRA_SOURCES}
              )
else()
  add_library(IMP.insulinsecretion-lib  ${IMP_LIB_TYPE} ${gensources} ${genheaders}
              ${headers} ${CMAKE_BINARY_DIR}/src/insulinsecretion_all.cpp
              ${CMAKE_BINARY_DIR}/src/insulinsecretion_config.cpp
              ${IMP_insulinsecretion_LIBRARY_EXTRA_SOURCES}
              )
endif()
set_target_properties(IMP.insulinsecretion-lib PROPERTIES
                      OUTPUT_NAME imp_insulinsecretion)

# Note that soversion is only set if a version is set in the *source* directory.
# This is because we have to set soversion at cmake, not build, time. All stable
# releases have a VERSION file in the source directory, so this should be OK.
IF (EXISTS ${CMAKE_SOURCE_DIR}/modules/insulinsecretion/VERSION)
  file(STRINGS ${CMAKE_SOURCE_DIR}/modules/insulinsecretion/VERSION sover
       REGEX "^[0-9]+\\.[0-9]+(\\.[0-9]+)?$")
ELSEIF(EXISTS ${CMAKE_SOURCE_DIR}/VERSION)
  file(STRINGS ${CMAKE_SOURCE_DIR}/VERSION sover
       REGEX "^[0-9]+\\.[0-9]+(\\.[0-9]+)?$")
ENDIF()
IF (NOT "${sover}" STREQUAL "")
  set_target_properties(IMP.insulinsecretion-lib PROPERTIES
                        VERSION ${sover} SOVERSION ${sover})
ELSE()
  set_target_properties(IMP.insulinsecretion-lib PROPERTIES
                        VERSION 0 SOVERSION 0)
ENDIF()

set_property(TARGET "IMP.insulinsecretion-lib" PROPERTY FOLDER "IMP.insulinsecretion")

INSTALL(TARGETS IMP.insulinsecretion-lib DESTINATION ${CMAKE_INSTALL_LIBDIR})

if (0 EQUAL 0)
  add_dependencies(IMP.insulinsecretion-lib IMP.insulinsecretion-version)
endif()

if(DEFINED IMP_insulinsecretion_LIBRARY_EXTRA_DEPENDENCIES)
  add_dependencies(IMP.insulinsecretion-lib ${IMP_insulinsecretion_LIBRARY_EXTRA_DEPENDENCIES})
endif()

target_link_libraries(IMP.insulinsecretion-lib ${imp_insulinsecretion_libs})



set(IMP_insulinsecretion_LIBRARY IMP.insulinsecretion-lib CACHE INTERNAL "" FORCE)
